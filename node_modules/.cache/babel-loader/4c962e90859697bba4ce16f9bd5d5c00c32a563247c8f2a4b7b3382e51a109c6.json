{"ast":null,"code":"import { usersAPI, profileAPI } from \"../../API/api\";\nconst ADD_POST = \"ADD-POST\";\nconst UPDATE_NEW_POST_TEXT = \"UPDATE-NEW-POST-TEXT\";\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\nconst SET_STATUS = \"SET_STATUS\";\nlet initialState = {\n  posts: [{\n    id: 1,\n    likesCount: 12,\n    message: \"Hello, BRO\"\n  }, {\n    id: 2,\n    likesCount: 4,\n    message: \"Hello, B\"\n  }, {\n    id: 3,\n    likesCount: 51,\n    message: \"Hell Oy\"\n  }, {\n    id: 4,\n    likesCount: 614,\n    message: \"airuqp ppq uqweh b\"\n  }, {\n    id: 5,\n    likesCount: 111,\n    message: \"It`s my first post!\"\n  }],\n  newPostText: \"fuck!\",\n  profile: null,\n  status: \"\"\n};\nconst profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST:\n      let newPost = {\n        id: 5,\n        message: state.newPostText,\n        likesCount: 0\n      };\n      return {\n        ...state,\n        posts: [...state.posts, newPost],\n        newPostText: \"\"\n      };\n    case UPDATE_NEW_POST_TEXT:\n      return {\n        ...state,\n        newPostText: action.newText\n      };\n    case SET_USER_PROFILE:\n      return {\n        ...state,\n        profile: action.profile\n      };\n    case SET_STATUS:\n      return {\n        ...state,\n        status: action.status\n      };\n    default:\n      return state;\n  }\n};\nexport const addPostActionCreator = () => ({\n  type: ADD_POST\n});\nexport const setUserProfile = profile => ({\n  type: SET_USER_PROFILE,\n  profile\n});\nexport const setStatus = status => ({\n  type: SET_STATUS,\n  status\n});\nexport const getUserProfile = userId => dispatch => {\n  usersAPI.getProfile(userId) // thunk\n  .then(response => dispatch(setUserProfile(response.data)));\n};\nexport const getStatus = userId => dispatch => {\n  profileAPI.getStatus(userId) // thunk to\n  .then(response => dispatch(setStatus(response.data)));\n};\nexport const updateStatus = status => dispatch => {\n  profileAPI.updateStatus(status).then(response => {\n    if (response.data.resultCode === 0) {\n      dispatch(setStatus(status));\n    }\n  });\n};\nexport const updateNewPostTextActionCreator = text => ({\n  type: UPDATE_NEW_POST_TEXT,\n  newText: text\n});\nexport default profileReducer;","map":{"version":3,"names":["usersAPI","profileAPI","ADD_POST","UPDATE_NEW_POST_TEXT","SET_USER_PROFILE","SET_STATUS","initialState","posts","id","likesCount","message","newPostText","profile","status","profileReducer","state","action","type","newPost","newText","addPostActionCreator","setUserProfile","setStatus","getUserProfile","userId","dispatch","getProfile","then","response","data","getStatus","updateStatus","resultCode","updateNewPostTextActionCreator","text"],"sources":["/Users/oskvernitel/lernJS/react/legendary-site/src/components/Redux/profileReducer.js"],"sourcesContent":["import { usersAPI, profileAPI } from \"../../API/api\";\n\nconst ADD_POST = \"ADD-POST\";\nconst UPDATE_NEW_POST_TEXT = \"UPDATE-NEW-POST-TEXT\";\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\"\nconst SET_STATUS = \"SET_STATUS\"\n\nlet initialState = {\n  posts: [\n    { id: 1, likesCount: 12, message: \"Hello, BRO\" },\n    { id: 2, likesCount: 4, message: \"Hello, B\" },\n    { id: 3, likesCount: 51, message: \"Hell Oy\" },\n    { id: 4, likesCount: 614, message: \"airuqp ppq uqweh b\" },\n    { id: 5, likesCount: 111, message: \"It`s my first post!\" },\n  ],\n  newPostText: \"fuck!\",\n  profile: null,\n  status: \"\",\n};\n\nconst profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST:\n      let newPost = {\n        id: 5,\n        message: state.newPostText,\n        likesCount: 0,\n      };\n      return { ...state, posts: [...state.posts, newPost], newPostText: \"\" };\n    case UPDATE_NEW_POST_TEXT:\n      return { ...state, newPostText: action.newText };\n    case SET_USER_PROFILE:\n      return { ...state, profile: action.profile };\n    case SET_STATUS:\n      return { ...state, status: action.status };\n    default:\n      return state;\n  }\n};\n\nexport const addPostActionCreator = () => ({ type: ADD_POST });\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile});\nexport const setStatus = (status) => ({ type: SET_STATUS, status});\n\nexport const getUserProfile = (userId) => (dispatch) => { usersAPI.getProfile(userId) // thunk\n  .then(response => dispatch(setUserProfile(response.data)))};\n\nexport const getStatus = (userId) => (dispatch) => { profileAPI.getStatus(userId) // thunk to\n  .then(response => dispatch(setStatus(response.data)))}\n\nexport const updateStatus = (status) => (dispatch) => { profileAPI.updateStatus(status)\n  .then(response => { if (response.data.resultCode === 0){ dispatch(setStatus(status))}})}\n  \nexport const updateNewPostTextActionCreator = (text) => ({type: UPDATE_NEW_POST_TEXT, newText: text});\n\nexport default profileReducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}