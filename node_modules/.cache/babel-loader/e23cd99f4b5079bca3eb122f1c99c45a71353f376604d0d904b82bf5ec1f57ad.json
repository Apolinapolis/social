{"ast":null,"code":"import React,{useEffect}from\"react\";import Profile from'./Profile';import{getUserProfile,getStatus,updateStatus}from\"../Redux/profileReducer\";import{connect}from\"react-redux\";import{useLocation,useNavigate,useParams}from\"react-router-dom\";import{compose}from\"redux\";import{jsx as _jsx}from\"react/jsx-runtime\";class ProfileContainer extends React.Component{componentDidMount(){let userId=this.props.router.params.userId;if(!userId){userId=this.props.autorizedUserId;}this.props.getUserProfile(userId);this.props.getStatus(userId);}render(){return/*#__PURE__*/_jsx(Profile,{...this.props,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus});}}function withRouter(Component){// дописал \nfunction ComponentWithRouterProp(props){let location=useLocation();let navigate=useNavigate();let params=useParams();useEffect(()=>{if(!props.isAuth){navigate(\"/login\");}},[props.isAuth,navigate]);return/*#__PURE__*/_jsx(Component,{...props,router:{location,navigate,params}});}return ComponentWithRouterProp;}let mapStateToProps=state=>{return{profile:state.profilePage.profile,status:state.profilePage.status,autorizedUserId:state.auth.userId,isAuth:state.auth.isAuth};};export default compose(connect(mapStateToProps,{getUserProfile,getStatus,updateStatus}),withRouter)(ProfileContainer);","map":{"version":3,"names":["React","useEffect","Profile","getUserProfile","getStatus","updateStatus","connect","useLocation","useNavigate","useParams","compose","jsx","_jsx","ProfileContainer","Component","componentDidMount","userId","props","router","params","autorizedUserId","render","profile","status","withRouter","ComponentWithRouterProp","location","navigate","isAuth","mapStateToProps","state","profilePage","auth"],"sources":["/Users/oskvernitel/lernJS/react/legendary-site/src/components/Profile/ProfileContainer.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport Profile from './Profile'\nimport { getUserProfile, getStatus, updateStatus} from \"../Redux/profileReducer\"\nimport { connect } from \"react-redux\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { compose } from \"redux\";\n\nclass ProfileContainer extends React.Component {\n\n    componentDidMount() {\n        let userId = this.props.router.params.userId\n        if (!userId) { userId = this.props.autorizedUserId }\n        this.props.getUserProfile(userId)\n        this.props.getStatus(userId)\n    }\n\n    render() { return <Profile \n        {...this.props} profile={this.props.profile} status={this.props.status} updateStatus={this.props.updateStatus} /> }\n}\n\nfunction withRouter(Component) { // дописал \n    function ComponentWithRouterProp(props) {\n        let location = useLocation();\n        let navigate = useNavigate();\n        let params = useParams();\n        useEffect(() => {\n            if (!props.isAuth) {\n              navigate(\"/login\");\n            }\n          }, [props.isAuth, navigate]);\n        return (\n            <Component\n                {...props}\n                router={{ location, navigate, params }}\n            />\n        );\n    }\n\n    return ComponentWithRouterProp;\n}\n\nlet mapStateToProps = (state) => {\n   return ({ \n    profile: state.profilePage.profile, \n    status: state.profilePage.status,\n    autorizedUserId: state.auth.userId,\n    isAuth: state.auth.isAuth,\n})}\n\nexport default compose(connect(mapStateToProps, { getUserProfile, getStatus, updateStatus}), withRouter) (ProfileContainer)\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,OAASC,cAAc,CAAEC,SAAS,CAAEC,YAAY,KAAO,yBAAyB,CAChF,OAASC,OAAO,KAAQ,aAAa,CACrC,OAASC,WAAW,CAAEC,WAAW,CAAEC,SAAS,KAAQ,kBAAkB,CACtE,OAASC,OAAO,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEhC,KAAM,CAAAC,gBAAgB,QAAS,CAAAb,KAAK,CAACc,SAAU,CAE3CC,iBAAiBA,CAAA,CAAG,CAChB,GAAI,CAAAC,MAAM,CAAG,IAAI,CAACC,KAAK,CAACC,MAAM,CAACC,MAAM,CAACH,MAAM,CAC5C,GAAI,CAACA,MAAM,CAAE,CAAEA,MAAM,CAAG,IAAI,CAACC,KAAK,CAACG,eAAe,CAAC,CACnD,IAAI,CAACH,KAAK,CAACd,cAAc,CAACa,MAAM,CAAC,CACjC,IAAI,CAACC,KAAK,CAACb,SAAS,CAACY,MAAM,CAAC,CAChC,CAEAK,MAAMA,CAAA,CAAG,CAAE,mBAAOT,IAAA,CAACV,OAAO,KAClB,IAAI,CAACe,KAAK,CAAEK,OAAO,CAAE,IAAI,CAACL,KAAK,CAACK,OAAQ,CAACC,MAAM,CAAE,IAAI,CAACN,KAAK,CAACM,MAAO,CAAClB,YAAY,CAAE,IAAI,CAACY,KAAK,CAACZ,YAAa,CAAE,CAAC,CAAC,CAC1H,CAEA,QAAS,CAAAmB,UAAUA,CAACV,SAAS,CAAE,CAAE;AAC7B,QAAS,CAAAW,uBAAuBA,CAACR,KAAK,CAAE,CACpC,GAAI,CAAAS,QAAQ,CAAGnB,WAAW,CAAC,CAAC,CAC5B,GAAI,CAAAoB,QAAQ,CAAGnB,WAAW,CAAC,CAAC,CAC5B,GAAI,CAAAW,MAAM,CAAGV,SAAS,CAAC,CAAC,CACxBR,SAAS,CAAC,IAAM,CACZ,GAAI,CAACgB,KAAK,CAACW,MAAM,CAAE,CACjBD,QAAQ,CAAC,QAAQ,CAAC,CACpB,CACF,CAAC,CAAE,CAACV,KAAK,CAACW,MAAM,CAAED,QAAQ,CAAC,CAAC,CAC9B,mBACIf,IAAA,CAACE,SAAS,KACFG,KAAK,CACTC,MAAM,CAAE,CAAEQ,QAAQ,CAAEC,QAAQ,CAAER,MAAO,CAAE,CAC1C,CAAC,CAEV,CAEA,MAAO,CAAAM,uBAAuB,CAClC,CAEA,GAAI,CAAAI,eAAe,CAAIC,KAAK,EAAK,CAC9B,MAAQ,CACPR,OAAO,CAAEQ,KAAK,CAACC,WAAW,CAACT,OAAO,CAClCC,MAAM,CAAEO,KAAK,CAACC,WAAW,CAACR,MAAM,CAChCH,eAAe,CAAEU,KAAK,CAACE,IAAI,CAAChB,MAAM,CAClCY,MAAM,CAAEE,KAAK,CAACE,IAAI,CAACJ,MACvB,CAAC,CAAC,CAAC,CAEH,cAAe,CAAAlB,OAAO,CAACJ,OAAO,CAACuB,eAAe,CAAE,CAAE1B,cAAc,CAAEC,SAAS,CAAEC,YAAY,CAAC,CAAC,CAAEmB,UAAU,CAAC,CAAEX,gBAAgB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}