{"ast":null,"code":"import React from\"react\";import s from\"../common/FormControls.module.css\";import{reduxForm}from\"redux-form\";import{сreateField,Input}from\"../common/FormControls\";import{required}from'../../utilits/validators/validators';import{connect}from\"react-redux\";import{login}from\"../Redux/authReducer\";import{Navigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const LoginForm=_ref=>{let{handleSubmit,error,captchaUrl}=_ref;return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[сreateField(\"Email\",\"email\",[required],Input),сreateField(\"Password\",\"password\",[required],Input,{type:\"password\"}),сreateField(null,\"Remember me\",[],Input,{type:\"checkbox\"},\"Remember me\"),captchaUrl&&/*#__PURE__*/_jsx(\"div\",{className:s.cap,children:/*#__PURE__*/_jsx(\"img\",{src:captchaUrl})}),captchaUrl&&сreateField(\"simbols from captcha \",\"captcha\",[required],Input,{}),error&&/*#__PURE__*/_jsx(\"div\",{className:s.formSummaryError,children:error}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{children:\"Submit\"})})]});};const LoginReduxForm=reduxForm({form:\"login\"})(LoginForm);const Login=props=>{const onSubmit=formdata=>{props.login(formdata.email,formdata.password,formdata.rememberMe,formdata.captcha);};if(props.isAuth)return/*#__PURE__*/_jsx(Navigate,{to:\"/profile\"});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"LogiN\"}),/*#__PURE__*/_jsx(LoginReduxForm,{onSubmit:onSubmit,captchaUrl:props.captchaUrl})]});};const mapStateToProps=state=>({isAuth:state.auth.isAuth,captchaUrl:state.auth.captchaUrl});export default connect(mapStateToProps,{login})(Login);","map":{"version":3,"names":["React","s","reduxForm","сreateField","Input","required","connect","login","Navigate","jsx","_jsx","jsxs","_jsxs","LoginForm","_ref","handleSubmit","error","captchaUrl","onSubmit","children","type","className","cap","src","formSummaryError","LoginReduxForm","form","Login","props","formdata","email","password","rememberMe","captcha","isAuth","to","mapStateToProps","state","auth"],"sources":["/Users/oskvernitel/lernJS/react/site/src/components/Login/login.jsx"],"sourcesContent":["import React from \"react\"\nimport s from \"../common/FormControls.module.css\"\nimport { reduxForm } from \"redux-form\"\nimport { сreateField, Input } from \"../common/FormControls\"\nimport { required } from '../../utilits/validators/validators';\nimport { connect } from \"react-redux\";\nimport { login } from \"../Redux/authReducer\";\nimport { Navigate } from \"react-router-dom\";\n\nconst LoginForm = ({ handleSubmit, error, captchaUrl }) => {\n    return (\n        <form onSubmit={handleSubmit}>\n            {сreateField(\"Email\", \"email\", [required], Input)}\n            {сreateField(\"Password\", \"password\", [required], Input, { type: \"password\" })}\n            {сreateField(null, \"Remember me\", [], Input, { type: \"checkbox\" }, \"Remember me\")}\n\n            {captchaUrl && <div className={s.cap}><img src={captchaUrl} /></div>}\n            {captchaUrl && сreateField(\"simbols from captcha \", \"captcha\", [required], Input, {} )}\n\n            {error && <div className={s.formSummaryError}>{error}</div>}\n            <div><button>Submit</button></div></form>)\n}\n\nconst LoginReduxForm = reduxForm({ form: \"login\" })(LoginForm)\n\nconst Login = (props) => {\n    const onSubmit = (formdata) => { props.login(formdata.email, formdata.password, formdata.rememberMe, formdata.captcha) }\n    if (props.isAuth) return <Navigate to={\"/profile\"} />\n    return <div>\n        <h1>LogiN</h1>\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\n    </div>\n}\nconst mapStateToProps = (state) => ({ isAuth: state.auth.isAuth, captchaUrl: state.auth.captchaUrl })\nexport default connect(mapStateToProps, { login })(Login)"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,CAAC,KAAM,mCAAmC,CACjD,OAASC,SAAS,KAAQ,YAAY,CACtC,OAASC,WAAW,CAAEC,KAAK,KAAQ,wBAAwB,CAC3D,OAASC,QAAQ,KAAQ,qCAAqC,CAC9D,OAASC,OAAO,KAAQ,aAAa,CACrC,OAASC,KAAK,KAAQ,sBAAsB,CAC5C,OAASC,QAAQ,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5C,KAAM,CAAAC,SAAS,CAAGC,IAAA,EAAyC,IAAxC,CAAEC,YAAY,CAAEC,KAAK,CAAEC,UAAW,CAAC,CAAAH,IAAA,CAClD,mBACIF,KAAA,SAAMM,QAAQ,CAAEH,YAAa,CAAAI,QAAA,EACxBhB,WAAW,CAAC,OAAO,CAAE,OAAO,CAAE,CAACE,QAAQ,CAAC,CAAED,KAAK,CAAC,CAChDD,WAAW,CAAC,UAAU,CAAE,UAAU,CAAE,CAACE,QAAQ,CAAC,CAAED,KAAK,CAAE,CAAEgB,IAAI,CAAE,UAAW,CAAC,CAAC,CAC5EjB,WAAW,CAAC,IAAI,CAAE,aAAa,CAAE,EAAE,CAAEC,KAAK,CAAE,CAAEgB,IAAI,CAAE,UAAW,CAAC,CAAE,aAAa,CAAC,CAEhFH,UAAU,eAAIP,IAAA,QAAKW,SAAS,CAAEpB,CAAC,CAACqB,GAAI,CAAAH,QAAA,cAACT,IAAA,QAAKa,GAAG,CAAEN,UAAW,CAAE,CAAC,CAAK,CAAC,CACnEA,UAAU,EAAId,WAAW,CAAC,uBAAuB,CAAE,SAAS,CAAE,CAACE,QAAQ,CAAC,CAAED,KAAK,CAAE,CAAC,CAAE,CAAC,CAErFY,KAAK,eAAIN,IAAA,QAAKW,SAAS,CAAEpB,CAAC,CAACuB,gBAAiB,CAAAL,QAAA,CAAEH,KAAK,CAAM,CAAC,cAC3DN,IAAA,QAAAS,QAAA,cAAKT,IAAA,WAAAS,QAAA,CAAQ,QAAM,CAAQ,CAAC,CAAK,CAAC,EAAM,CAAC,CACrD,CAAC,CAED,KAAM,CAAAM,cAAc,CAAGvB,SAAS,CAAC,CAAEwB,IAAI,CAAE,OAAQ,CAAC,CAAC,CAACb,SAAS,CAAC,CAE9D,KAAM,CAAAc,KAAK,CAAIC,KAAK,EAAK,CACrB,KAAM,CAAAV,QAAQ,CAAIW,QAAQ,EAAK,CAAED,KAAK,CAACrB,KAAK,CAACsB,QAAQ,CAACC,KAAK,CAAED,QAAQ,CAACE,QAAQ,CAAEF,QAAQ,CAACG,UAAU,CAAEH,QAAQ,CAACI,OAAO,CAAC,CAAC,CAAC,CACxH,GAAIL,KAAK,CAACM,MAAM,CAAE,mBAAOxB,IAAA,CAACF,QAAQ,EAAC2B,EAAE,CAAE,UAAW,CAAE,CAAC,CACrD,mBAAOvB,KAAA,QAAAO,QAAA,eACHT,IAAA,OAAAS,QAAA,CAAI,OAAK,CAAI,CAAC,cACdT,IAAA,CAACe,cAAc,EAACP,QAAQ,CAAEA,QAAS,CAACD,UAAU,CAAEW,KAAK,CAACX,UAAW,CAAC,CAAC,EAClE,CAAC,CACV,CAAC,CACD,KAAM,CAAAmB,eAAe,CAAIC,KAAK,GAAM,CAAEH,MAAM,CAAEG,KAAK,CAACC,IAAI,CAACJ,MAAM,CAAEjB,UAAU,CAAEoB,KAAK,CAACC,IAAI,CAACrB,UAAW,CAAC,CAAC,CACrG,cAAe,CAAAX,OAAO,CAAC8B,eAAe,CAAE,CAAE7B,KAAM,CAAC,CAAC,CAACoB,KAAK,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}