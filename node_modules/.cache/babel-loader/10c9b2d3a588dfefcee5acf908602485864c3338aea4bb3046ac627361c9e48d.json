{"ast":null,"code":"import s from'./Dialogs.module.css';import DialogItem from'./DialogItem/DialogItem';import React from'react';import{Navigate}from'react-router-dom';import Message from\"./Message/Message\";import{Field,reduxForm}from\"redux-form\";import{Textarea}from'../common/FormControls';import{maxLengthCreator,required}from'../../utilits/validators/validators';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Dialogs=props=>{let state=props.dialogsPage;let dialogsElements=state.dialogs.map(dialog=>/*#__PURE__*/_jsx(DialogItem,{name:dialog.name,id:dialog.id,photo:dialog.photo}));let messageElements=state.message.map(mess=>/*#__PURE__*/_jsx(Message,{className:s.message,message:mess.message,id:'123'}));const addNewMessage=text=>{props.sendMessage(text.newMessageBody);};if(!props.isAuth){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}return/*#__PURE__*/_jsxs(\"div\",{className:s.dialogs,children:[/*#__PURE__*/_jsx(\"div\",{className:s.dialogsItems,children:dialogsElements}),/*#__PURE__*/_jsx(\"div\",{className:s.messages,children:/*#__PURE__*/_jsx(\"div\",{children:messageElements})}),/*#__PURE__*/_jsx(AddMessageFormRedux,{onSubmit:addNewMessage})]});};const maxlength10=maxLengthCreator(10);const AddMessageForm=props=>{return/*#__PURE__*/_jsxs(\"form\",{onSubmit:props.handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Field,{component:Textarea,name:\"newMessageBody\",validate:[required,maxlength10],placeholder:\"\\u0412\\u0432\\u043E\\u0434\\u0438\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{children:\"Send\"})})]});};const AddMessageFormRedux=reduxForm({form:\"dialogAddMessageForm\"})(AddMessageForm);export default Dialogs;","map":{"version":3,"names":["s","DialogItem","React","Navigate","Message","Field","reduxForm","Textarea","maxLengthCreator","required","jsx","_jsx","jsxs","_jsxs","Dialogs","props","state","dialogsPage","dialogsElements","dialogs","map","dialog","name","id","photo","messageElements","message","mess","className","addNewMessage","text","sendMessage","newMessageBody","isAuth","to","children","dialogsItems","messages","AddMessageFormRedux","onSubmit","maxlength10","AddMessageForm","handleSubmit","component","validate","placeholder","form"],"sources":["/Users/oskvernitel/lernJS/react/site/src/components/Dialogs/Dialogs.jsx"],"sourcesContent":["import s from './Dialogs.module.css'\nimport DialogItem from './DialogItem/DialogItem';\nimport React from 'react';\nimport { Navigate } from 'react-router-dom';\nimport Message from \"./Message/Message\"\nimport { Field, reduxForm } from \"redux-form\"\nimport { Textarea } from '../common/FormControls';\nimport { maxLengthCreator, required } from '../../utilits/validators/validators';\n\nconst Dialogs = (props) => {\n    \n    let state = props.dialogsPage;\n    let dialogsElements = state.dialogs.map(dialog => <DialogItem name={dialog.name} id={dialog.id} photo={dialog.photo} />)\n    let messageElements = state.message.map(mess => <Message className={s.message} message={mess.message} id={'123'} />)\n\n    const addNewMessage = (text) => { props.sendMessage(text.newMessageBody) }\n\n    if (!props.isAuth) { return <Navigate to={\"/login\"} /> }\n\n    return (\n        <div className={s.dialogs}>\n            <div className={s.dialogsItems}>{dialogsElements}</div>\n            <div className={s.messages}>\n            <div>{messageElements}</div>\n            </div>\n            <AddMessageFormRedux onSubmit={addNewMessage}/>\n        </div>\n    )\n}\n\nconst maxlength10 = maxLengthCreator(10)\nconst AddMessageForm = (props) => {\n    return <form onSubmit={props.handleSubmit}> \n        <div><Field component={Textarea} name=\"newMessageBody\" validate = {[required , maxlength10]} placeholder='Вводи'/></div>\n        <div><button>Send</button></div>\n    </form>\n}\n\nconst AddMessageFormRedux = reduxForm({ form: \"dialogAddMessageForm\" })(AddMessageForm)\n\nexport default Dialogs"],"mappings":"AAAA,MAAO,CAAAA,CAAC,KAAM,sBAAsB,CACpC,MAAO,CAAAC,UAAU,KAAM,yBAAyB,CAChD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,MAAO,CAAAC,OAAO,KAAM,mBAAmB,CACvC,OAASC,KAAK,CAAEC,SAAS,KAAQ,YAAY,CAC7C,OAASC,QAAQ,KAAQ,wBAAwB,CACjD,OAASC,gBAAgB,CAAEC,QAAQ,KAAQ,qCAAqC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEjF,KAAM,CAAAC,OAAO,CAAIC,KAAK,EAAK,CAEvB,GAAI,CAAAC,KAAK,CAAGD,KAAK,CAACE,WAAW,CAC7B,GAAI,CAAAC,eAAe,CAAGF,KAAK,CAACG,OAAO,CAACC,GAAG,CAACC,MAAM,eAAIV,IAAA,CAACV,UAAU,EAACqB,IAAI,CAAED,MAAM,CAACC,IAAK,CAACC,EAAE,CAAEF,MAAM,CAACE,EAAG,CAACC,KAAK,CAAEH,MAAM,CAACG,KAAM,CAAE,CAAC,CAAC,CACxH,GAAI,CAAAC,eAAe,CAAGT,KAAK,CAACU,OAAO,CAACN,GAAG,CAACO,IAAI,eAAIhB,IAAA,CAACP,OAAO,EAACwB,SAAS,CAAE5B,CAAC,CAAC0B,OAAQ,CAACA,OAAO,CAAEC,IAAI,CAACD,OAAQ,CAACH,EAAE,CAAE,KAAM,CAAE,CAAC,CAAC,CAEpH,KAAM,CAAAM,aAAa,CAAIC,IAAI,EAAK,CAAEf,KAAK,CAACgB,WAAW,CAACD,IAAI,CAACE,cAAc,CAAC,CAAC,CAAC,CAE1E,GAAI,CAACjB,KAAK,CAACkB,MAAM,CAAE,CAAE,mBAAOtB,IAAA,CAACR,QAAQ,EAAC+B,EAAE,CAAE,QAAS,CAAE,CAAC,CAAC,CAEvD,mBACIrB,KAAA,QAAKe,SAAS,CAAE5B,CAAC,CAACmB,OAAQ,CAAAgB,QAAA,eACtBxB,IAAA,QAAKiB,SAAS,CAAE5B,CAAC,CAACoC,YAAa,CAAAD,QAAA,CAAEjB,eAAe,CAAM,CAAC,cACvDP,IAAA,QAAKiB,SAAS,CAAE5B,CAAC,CAACqC,QAAS,CAAAF,QAAA,cAC3BxB,IAAA,QAAAwB,QAAA,CAAMV,eAAe,CAAM,CAAC,CACvB,CAAC,cACNd,IAAA,CAAC2B,mBAAmB,EAACC,QAAQ,CAAEV,aAAc,CAAC,CAAC,EAC9C,CAAC,CAEd,CAAC,CAED,KAAM,CAAAW,WAAW,CAAGhC,gBAAgB,CAAC,EAAE,CAAC,CACxC,KAAM,CAAAiC,cAAc,CAAI1B,KAAK,EAAK,CAC9B,mBAAOF,KAAA,SAAM0B,QAAQ,CAAExB,KAAK,CAAC2B,YAAa,CAAAP,QAAA,eACtCxB,IAAA,QAAAwB,QAAA,cAAKxB,IAAA,CAACN,KAAK,EAACsC,SAAS,CAAEpC,QAAS,CAACe,IAAI,CAAC,gBAAgB,CAACsB,QAAQ,CAAI,CAACnC,QAAQ,CAAG+B,WAAW,CAAE,CAACK,WAAW,CAAC,gCAAO,CAAC,CAAC,CAAK,CAAC,cACxHlC,IAAA,QAAAwB,QAAA,cAAKxB,IAAA,WAAAwB,QAAA,CAAQ,MAAI,CAAQ,CAAC,CAAK,CAAC,EAC9B,CAAC,CACX,CAAC,CAED,KAAM,CAAAG,mBAAmB,CAAGhC,SAAS,CAAC,CAAEwC,IAAI,CAAE,sBAAuB,CAAC,CAAC,CAACL,cAAc,CAAC,CAEvF,cAAe,CAAA3B,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}